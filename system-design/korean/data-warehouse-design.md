# 데이터 웨어하우스 아키텍처 설계

데이터 웨어하우스는 여러 소스의 대규모 데이터셋에 대한 분석과 보고에 최적화된 특수 데이터베이스 시스템입니다. 이들은 운영 데이터를 복잡한 쿼리와 비즈니스 인텔리전스를 지원하는 구조화된 형식으로 변환합니다.

핵심 아키텍처 구성 요소로는 데이터 수집 파이프라인, 스테이징 영역, 기본 스토리지 계층, 다양한 쿼리 패턴을 위한 서빙 계층이 있습니다. 현대적인 데이터 웨어하우스는 일반적으로 Kimball(적합 차원이 있는 차원 모델링), Inmon(종속 데이터 마트가 있는 정규화된 엔터프라이즈 모델), 또는 Data Vault(고도로 유연한 허브-앤-스포크 접근 방식) 방법론을 구현합니다.

데이터 모델링 접근 방식은 트랜잭션 무결성보다는 분석 효율성에 중점을 둡니다. 비정규화된 차원 테이블과 정규화된 팩트 테이블이 있는 스타 스키마는 쿼리 성능과 이해도를 최적화합니다. 스노우플레이크 스키마는 조인 복잡성이 증가하는 대신 중복성을 줄이기 위해 차원 테이블에 정규화를 도입합니다.

스토리지 계층은 일반적으로 압축, 술어 푸시다운, 컬럼 프루닝을 통해 분석 쿼리 성능을 크게 향상시키는 컬럼 형식(Parquet, ORC)을 사용합니다. 일반적인 쿼리 차원(날짜, 지역, 카테고리)을 기반으로 한 파티셔닝 전략은 일반적인 쿼리에 대해 스캔되는 데이터를 줄입니다.

쿼리 최적화 기술로는 구체화된 뷰(미리 계산된 집계), 쿼리 결과 캐싱, 술어 최적화, 분산 노드에 걸친 병렬 실행 등이 있습니다. MPP(Massively Parallel Processing) 아키텍처는 페타바이트 규모의 데이터셋을 처리하기 위해 스토리지와 계산 모두 분산시킵니다.

ETL(Extract, Transform, Load) 또는 ELT(Extract, Load, Transform) 파이프라인은 데이터 신선도를 유지합니다. 현대적인 접근 방식은 웨어하우스 자체의 처리 능력을 활용하여 웨어하우스 내에서의 변환을 선호하는 ELT를 선호합니다. 데이터 품질 검사, 스키마 진화 처리, 계보 추적은 필수적인 파이프라인 구성 요소입니다.

Snowflake, Amazon Redshift, Google BigQuery와 같은 클라우드 데이터 웨어하우스는 스토리지와 컴퓨팅 리소스의 분리를 제공하여 독립적인 확장과 사용량에 따른 가격 책정 모델을 가능하게 합니다. 이러한 아키텍처 변화는 과도한 프로비저닝 없이 다양한 리소스 요구 사항을 가진 동시 워크로드를 지원합니다.