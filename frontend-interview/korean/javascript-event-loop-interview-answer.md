# 자바스크립트 이벤트 루프 인터뷰 답변

이벤트 루프는 자바스크립트가 단일 스레드 언어임에도 비동기 작업을 처리할 수 있게 해주는 핵심 메커니즘입니다. 자바스크립트 엔진은 콜 스택, Web API(브라우저) 또는 Node API(Node.js), 콜백 큐, 마이크로태스크 큐로 구성되어 있습니다.

작동 방식은 다음과 같습니다. 먼저 코드가 실행되면 함수는 콜 스택에 쌓입니다. 비동기 작업(setTimeout, fetch 등)을 만나면 Web API로 위임하고 코드 실행은 계속됩니다. 비동기 작업이 완료되면 해당 콜백 함수가 콜백 큐(Task Queue)나 마이크로태스크 큐에 추가됩니다. 이벤트 루프는 콜 스택이 비었을 때 마이크로태스크 큐의 작업을 먼저 처리하고, 그 다음 콜백 큐의 작업을 콜 스택으로 이동시킵니다.

마이크로태스크(Promise의 then/catch/finally 콜백)는 일반 태스크(setTimeout, setInterval 콜백)보다 우선순위가 높습니다. 그래서 Promise 콜백이 setTimeout 콜백보다 먼저 실행되는 것을 볼 수 있습니다.

이벤트 루프를 이해하면 비동기 코드의 실행 순서를 예측할 수 있고, 블로킹 작업을 피하여 UI 응답성을 유지하는 방법을 알 수 있습니다. 특히 브라우저에서는 렌더링 업데이트가 태스크 사이에 이루어지므로, 긴 태스크는 화면 업데이트를 지연시킬 수 있다는 점을 염두에 두어야 합니다.