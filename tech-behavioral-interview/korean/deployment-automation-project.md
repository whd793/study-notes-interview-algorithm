# 배포 자동화 프로젝트 경험에 대해 말씀해주세요

중견 핀테크 회사에서 프론트엔드 배포 과정의 비효율성과 불안정성을 해결하기 위한 배포 자동화 프로젝트를 주도했습니다. 기존 배포 프로세스는 수동 작업이 많고 오류 발생 가능성이 높았으며, 배포 완료까지 평균 4시간이 소요되어 개발 생산성과 릴리스 주기에 큰 제약이 되고 있었습니다.

이 프로젝트의 목표는 프론트엔드 배포 과정을 완전히 자동화하여 배포 시간을 단축하고, 오류 가능성을 줄이며, 개발자들이 핵심 업무에 더 집중할 수 있는 환경을 만드는 것이었습니다. 저는 DevOps 팀과 협력하여 이 프로젝트를 처음부터 끝까지 이끌었습니다.

먼저 기존 배포 프로세스의 문제점을 철저히 분석했습니다. 주요 병목 지점으로 다음을 파악했습니다:
1. 수동 빌드 및 환경별 설정 변경
2. 일관성 없는 테스트 프로세스
3. 복잡한 승인 절차
4. AWS S3 및 CloudFront 배포 과정의 비효율성
5. 배포 후 검증 부족

이러한 문제를 해결하기 위해 전체 CI/CD 파이프라인을 재설계했습니다. GitHub Actions를 기반으로 한 워크플로우를 구축하여 코드 커밋부터 프로덕션 배포까지의 전 과정을 자동화했습니다.

파이프라인은 다음과 같은 단계로 구성했습니다:

1. **코드 품질 검증**: 모든 PR에 대해 ESLint, Prettier, TypeScript 타입 체크를 자동으로 실행하고, 코드 컨벤션 준수 여부를 검증했습니다. SonarQube 통합을 통해 코드 품질 메트릭을 지속적으로 모니터링했습니다.

2. **자동화된 테스트**: 단위 테스트(Jest), 컴포넌트 테스트(React Testing Library), E2E 테스트(Cypress)를 병렬로 실행하도록 구성했습니다. 테스트 실행 시간을 최적화하기 위해 변경된 파일에 관련된 테스트를 우선 실행하는 전략을 적용했습니다.

3. **환경별 빌드 자동화**: 개발, 스테이징, 프로덕션 환경에 대한 빌드 과정을 자동화했습니다. webpack 설정을 최적화하고, 환경별 설정을 `.env` 파일과 AWS Parameter Store를 활용하여 관리했습니다. 또한 빌드 캐싱을 통해 빌드 시간을 크게 단축했습니다.

4. **정적 사이트 배포 최적화**: AWS S3, CloudFront, Route53을 활용한 정적 사이트 배포 프로세스를 자동화했습니다. 특히 S3 업로드 과정에서 변경된 파일만 업로드하는 증분 배포 방식을 구현하여 배포 시간을 단축했습니다. 또한 CloudFront 캐시 무효화도 필요한 파일에 대해서만 선택적으로 수행하도록 최적화했습니다.

5. **블루-그린 배포 구현**: 프로덕션 환경에 대한 무중단 배포를 위해 블루-그린 배포 전략을 구현했습니다. 새 버전을 별도의 환경(그린)에 배포하고 검증한 후, DNS 전환을 통해 트래픽을 전환하는 방식으로 위험을 최소화했습니다.

6. **자동화된 배포 후 검증**: 배포 완료 후 자동으로 핵심 기능과 성능을 검증하는 스모크 테스트를 구현했습니다. Lighthouse를 통합하여 성능, 접근성, SEO 지표를 확인하고, 임계값 이하로 떨어질 경우 경고 알림이 발생하도록 했습니다.

7. **모니터링 및 알림 체계**: Datadog과 Sentry를 활용하여 배포 과정과 애플리케이션 상태를 실시간으로 모니터링하는 시스템을 구축했습니다. Slack 통합을 통해 배포 상태, 테스트 결과, 오류 발생 등의 중요 이벤트를 실시간으로 알리도록 했습니다.

이 프로젝트를 진행하면서 몇 가지 중요한 도전 과제가 있었습니다. 가장 어려웠던 부분은 레거시 모노리식 애플리케이션의 특성을 고려한 배포 전략을 수립하는 것이었습니다. 이를 위해 점진적으로 마이크로 프론트엔드 아키텍처로 전환하는 과정에서도 일관된 배포 경험을 제공할 수 있는 유연한 파이프라인을 설계했습니다.

또한 회사의 보안 정책과 규제 요구사항을 준수하면서도 효율적인 자동화 프로세스를 구축하는 것도 중요한 과제였습니다. 이를 위해 HashiCorp Vault를 활용하여 비밀 정보를 안전하게 관리하고, 승인 워크플로우를 통합하여 중요 환경에 대한 배포 시 적절한 검토와 승인이 이루어지도록 했습니다.

이 프로젝트의 결과는 매우 성공적이었습니다. 배포 시간이 평균 4시간에서 20분으로 단축되었고, 배포 실패율이 15%에서 2% 미만으로 감소했습니다. 또한 개발자들의 수동 작업 시간이 크게 줄어들어, 핵심 개발 업무에 더 집중할 수 있게 되었습니다. 이로 인해 릴리스 주기가 월 1회에서 주 3회로 단축되어 비즈니스 민첩성이 크게 향상되었습니다.

이 프로젝트를 통해 효과적인 CI/CD 파이프라인 구축이 단순히 기술적 효율성을 넘어 전체 개발 문화와 비즈니스 성과에 큰 영향을 미친다는 것을 배웠습니다. 또한 자동화가 단순히 반복 작업을 줄이는 것을 넘어, 품질 향상과 위험 감소에도 중요한 역할을 한다는 점을 깨달았습니다. 무엇보다 DevOps 팀과의 긴밀한 협업을 통해 프론트엔드와 인프라 간의 경계를 넘나드는 통합적 시각을 갖게 된 것이 가장 큰 성장 포인트였습니다.