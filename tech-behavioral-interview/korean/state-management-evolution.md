# 상태 관리 접근 방식의 진화 과정을 설명해주세요

3년 넘게 유지보수한 대규모 SPA(Single Page Application)에서 상태 관리 전략이 어떻게 진화했는지 말씀드리겠습니다.

초기에는 단순한 React 컴포넌트 로컬 상태와 소규모 Context API를 사용했습니다. 그러나 애플리케이션이 성장하면서 컴포넌트 간 상태 공유가 복잡해지고, props drilling 문제가 심화되었습니다.

이를 해결하기 위해 Redux를 도입했습니다. 단일 스토어에서 전역 상태를 관리하고 일관된 상태 업데이트 패턴을 적용했습니다. 하지만 시간이 지나며 액션 타입, 액션 생성자, 리듀서 등의 보일러플레이트 코드가 증가하고, 비동기 작업 처리를 위한 redux-thunk 및 redux-saga의 복잡성도 커졌습니다.

다음 단계로 Redux Toolkit을 도입하여 보일러플레이트를 줄이고 개발자 경험을 개선했습니다. createSlice API를 활용하여 액션과 리듀서를 더 간결하게 정의했고, RTK Query를 통해 데이터 페칭 로직을 표준화했습니다.

그러나 서비스가 더욱 복잡해지면서 모든 상태를 Redux로 관리하는 것이 항상 최선의 방법은 아니라는 것을 깨달았습니다. 특히 서버 상태와 클라이언트 상태의 성격이 다르다는 점에 주목했습니다.

이에 따라 하이브리드 접근 방식을 채택했습니다. 서버 데이터는 React Query를 사용하여 관리했고, 이를 통해 캐싱, 백그라운드 갱신, 무효화 등의 기능을 쉽게 구현할 수 있었습니다. 전역 UI 상태는 여전히 Redux를 통해 관리했으며, 폼 상태는 Formik이나 React Hook Form으로 처리했습니다. 간단한 로컬 상태는 useState와 useReducer를 사용했습니다.

최근에는 상태 관리를 더욱 모듈화하기 위해 Zustand와 같은 경량 라이브러리를 일부 기능에 도입했습니다. 이는 특정 도메인에 집중된 작은 스토어를 만들 수 있게 해주어 필요한 곳에 더 세분화된 상태 관리가 가능해졌습니다.

이 진화 과정에서 배운 핵심 교훈은 '하나의 도구로 모든 문제를 해결하려 하지 말라'는 것입니다. 각 상태 유형의 특성과 사용 패턴에 맞는 도구를 선택하는 것이 중요하며, 코드 복잡성과 성능 사이의 균형을 항상 고려해야 합니다.